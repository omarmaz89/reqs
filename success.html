<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google Login Success</title>
</head>
<body>
<h2>Logging in...</h2>

<script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.0"></script>
<script type="module">
const client = new Appwrite.Client()
    .setEndpoint("https://fra.cloud.appwrite.io/v1")
    .setProject("69245280003e7f885796");

const account = new Appwrite.Account(client);

// After Google redirects here, check session
account.get()
    .then(user => {
        console.log("Google login success:", user);
        window.location.href = "index.html"; // redirect to homepage
    })
    .catch(err => {
        console.log("No session found, redirecting to signup");
        window.location.href = "signup.html";
    });
</script>
</body>
</html>
